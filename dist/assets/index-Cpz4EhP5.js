import{c as v,j as e,P as n,u as N,i as b,r as l,W as w,L as k}from"./index-BsRloEyi.js";/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=v("TvMinimalPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}]]),C=({por:t})=>{const s=2*Math.PI*45.5,r=s-t/100*s,c=t<=50?"red":t<=70?"yellow":t<100?"green":null;return e.jsxs("svg",{className:"CircularProgressbar",viewBox:"0 0 100 100","data-test-id":"CircularProgressbar",children:[e.jsx("circle",{className:"CircularProgressbar-background",cx:"50",cy:"50",r:"50",style:{fill:"black"}}),e.jsx("path",{className:"CircularProgressbar-trail",d:`\r
          M 50,50\r
          m 0,-45.5\r
          a 45.5,45.5 0 1 1 0,91\r
          a 45.5,45.5 0 1 1 0,-91\r
        `,strokeWidth:"7",fillOpacity:"0",style:{stroke:"rgba(19, 206, 102, 0.3)",strokeDasharray:`${s}px ${s}px`,strokeDashoffset:"0px"}}),e.jsx("path",{className:"CircularProgressbar-path",d:`\r
          M 50,50\r
          m 0,-45.5\r
          a 45.5,45.5 0 1 1 0,91\r
          a 45.5,45.5 0 1 1 0,-91\r
        `,strokeWidth:"7",fillOpacity:"0",style:{stroke:c,strokeDasharray:`${s}px ${s}px`,strokeDashoffset:`${r}px`,transition:"stroke-dashoffset 0.35s",transform:"rotate(-90deg)",transformOrigin:"50% 50%"}}),e.jsxs("text",{className:"CircularProgressbar-text",x:"50",y:"50",dominantBaseline:"middle",textAnchor:"middle",style:{fill:"white",fontSize:"28px"},children:[t,"%"]})]})},d=({elenco:t,diretor:i,detalhes:s})=>{const r=String(s.vote_average).replace(".","").slice(0,2);return e.jsxs("div",{className:" flex flex-col  items-center justify-center   text-zinc-300",children:[e.jsxs("div",{className:"relative flex gap-5 h-[93vh] items-center  justify-center w-full overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 ",children:e.jsx("img",{src:`https://image.tmdb.org/t/p/original/${s.backdrop_path}`,alt:"",className:"object-contain"})}),e.jsx("div",{className:"absolute z-50 flex items-center justify-center h-full w-full gap-5",style:{background:"linear-gradient(to bottom, rgba(0, 0, 0, .9), #0d0d0d)"},children:e.jsxs("div",{className:"flex gap-5 justify-center",children:[e.jsx("img",{src:`https://image.tmdb.org/t/p/w300/${s.poster_path}`}),e.jsxs("div",{className:"flex flex-col w-7/12",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-wider",children:s.title}),e.jsx("span",{className:"font-bold",children:s.release_date}),s.genres&&e.jsx("ul",{className:"flex gap-4 list-disc py-3  ",children:s.genres.map(a=>e.jsx("li",{className:"pr-4 first:list-none first:pl-0 text-sm italic",children:a.name},a.id))}),e.jsx("span",{className:"py-3 font-bold text-lg",children:s.tagline}),e.jsxs("div",{className:" flex gap-5  items-center ",children:[e.jsx("div",{className:"size-12   ",children:e.jsx(C,{por:r})}),e.jsx(P,{className:"size-12"})]}),e.jsx("p",{className:"text-gray-100 text-lg leading-8 tracking-wide py-5 flex-1 ",children:s.overview}),i&&e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg",children:i.name}),e.jsx("h3",{className:"italic",children:"Director"})]})]})]})})]}),e.jsx("div",{className:"flex  gap-3 items-center justify-center w-11/12 m-auto py-11 ",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("h2",{className:"capitalize text-xl font-semibold",children:"elenco principal"}),e.jsx("div",{className:"flex gap-5",children:t&&t.map(a=>e.jsxs("div",{className:"text-ellipsis w-44 h-72  shadow  shadow-zinc-700 rounded-lg overflow-hidden   ",children:[e.jsx("img",{src:`https://image.tmdb.org/t/p/w300/${a.profile_path}`,className:"object-cover w-full size-40  "}),e.jsx("div",{className:"flex items-center justify-center p-2  w-full",children:e.jsx("span",{className:"font-bold",children:a.name})})]},a.id))})]})})]})};d.propTypes={elenco:n.array.isRequired,diretor:n.object.isRequired,detalhes:n.array.isRequired};const z=()=>{const{category:t}=N(),{state:i,pathname:s}=b(),r=i&&i.key,[a,c]=l.useState([{}]),[x,m]=l.useState([{}]),[D,f]=l.useState([{}]),{getDetails:o,getCreditsMovie:h,loading:p}=w(t);l.useEffect(()=>{g()},[r.id]);async function g(){s.includes("filmes")&&(m(await o("filmes",r.id)),c(await h(r.id))),s.includes("tv")&&f(await o("series",r.id))}const{diretor:u,elenco:j}=a,y=sessionStorage.getItem("selectedCategory")==="filmes";return p?e.jsx(k,{}):e.jsx(e.Fragment,{children:y&&e.jsx(d,{diretor:u,elenco:j,detalhes:x})})};export{z as default};
